# 心情烘焙坊 🍰

[TOC]

## 🎯 项目简介

> 一款专注于当代年轻人情绪健康与自我关怀的 **温暖治愈型社交小程序**

我们旨在提供一个 **安全、私密且充满善意** 的线上空间，让用户能够精心调理和分享自己的心情，关注心理健康。融合 **情绪记录、创意表达、智能分析与轻社交**，通过独特的“烘焙”主题视觉与互动设计，帮助用户为情绪找到温暖的出口。



## 🛠 核心技术栈

### 客户端 (微信小程序)

- 微信小程序原生框架 (WXML, WXSS, JS)
- 微信开发者工具

### 服务端 (Python Flask)

- **后端框架：** Flask
- **数据库：** MySQL 5.7.28
- **Python 版本：** 3.7.9
- **依赖管理：** Pipenv / pip + requirements.txt
- **ORM：** Flask-SQLAlchemy
- **数据库迁移：** Flask-Migrate
- **部署：** 微信云托管

------

## 📁 项目结构

```
项目源码/
├── client/                 # 微信小程序客户端源码
│   ├── pages/                  # 小程序页面
│   ├── components/             # 自定义组件
│   ├── utils/                  # 工具函数
│   ├── config/                 # 配置文件
│   ├── assets/                 # 静态资源
│   ├── app.js                  # 小程序入口
│   ├── app.json                # 小程序配置
│   └── project.config.json     # 项目配置
│
├── server/                # Flask服务端源码
│   ├── app/                    # 应用核心包
│   │   ├── api/                # 接口层
│   │   ├── model/              # 数据模型
│   │   ├── service/            # 业务逻辑层
│   │   ├── config/             # 配置管理
│   │   ├── lib/                # 公共工具库
│   │   └── ...                 # 其他模块
│   ├── log/                    # 日志目录
│   ├── sql/                    # 数据库初始化文件
│   ├── .env_template           # 环境变量模板
│   ├── requirements.txt        # Python依赖列表
│   └── starter.py              # 应用启动入口
├── web/                      # web展示
```



## 💻 本地部署与开发

### 1. 环境要求

#### 硬件设备

- 个人电脑或笔记本，性能良好
- 存储空间预留 5GB 以上

#### 软件环境

- **开发工具：** PyCharm（推荐） 或 VS Code
- **Python：** 版本 3.7.9
- **数据库：** MySQL 5.7.28
- **虚拟环境：** Python `venv` 或 `pipenv`
- **小程序工具：** 微信开发者工具（用于调试与预览）

### 2. 服务端部署

#### 2.1 克隆项目并进入服务端目录

```
cd july_server
```

#### 2.2 创建并激活虚拟环境（推荐）

```
python -m venv venv
# Windows
venv\Scripts\activate
# Linux/Mac
source venv/bin/activate
```

#### 2.3 安装依赖

**方式一（推荐使用 Pipenv）：**

```
pipenv install
```

**方式二（使用 pip）：**

```
pip install -r requirements.txt
```

#### 2.4 配置环境变量

打开 `.env` 文件，修改为实际配置（本项目已配置并支持运行）。

或者，也可以直接修改 `app/config/base.py` 中的配置项。

#### 2.5 初始化数据库

1. 使用 MySQL 客户端创建一个名为 `july` 的数据库，字符集设置为 `utf8mb4`，排序规则为 `utf8mb4_general_ci`。

2. 按**顺序**导入 `sql/` 目录下的SQL文件：

   ```
   july.sql
   july_complete_final.sql
   fix_dairy_user_ids.sql
   add_pending_emotion_label.sql
   add_soul_push_update_time.sql
   mind.sql
   mind_seed.sql
   ```

#### 2.6 数据库模型迁移（如需修改数据结构）

确保环境变量配置正确后，执行：

```
# 初始化迁移环境（仅第一次需要）
flask db init

# 生成迁移脚本（检测模型变化）
flask db migrate -m “your migration message”

# 将迁移应用到数据库
flask db upgrade
```

#### 2.7 运行服务

```
python starter.py
```

服务默认启动后，可在浏览器访问 `http://localhost:5000` 查看API服务是否正常运行。

### 3. 客户端运行

1. 打开 **微信开发者工具**。
2. 选择“导入项目”，定位到 `july_client` 目录。

注：本项目已部署到微信云托管，因此如果不进行进一步开发可无需本地启动服务端，直接打开查看。

## 🧠 产品核心设计

### 1. NABCD

**1.1. N (Need 需求)**

用户在使用传统社交媒体（如朋友圈、微博）时，常常面临**压力**：需要精心修饰内容、担心他人看法、环境嘈杂负面信息多。用户深层需求是：

*   **安全、私密的表达需求：** 需要一个无压力、不被他人随意评判的空间，记录真实情绪和想法，提供日记功能来满足需求。
*   **寻求共鸣与温暖的需求：** 在情绪低落或迷茫时，希望看到他人的相似经历或得到温暖的鼓励，而非说教，帖子互动和心灵鸡汤推送满足了这一点。
*   **自我梳理与成长的需求：** 通过书写（博客、日记）来整理思绪，是一种有效的心理疗愈方式。
*   **个性化展示的需求：** 用户希望在一个属于自己的小天地里，展现独特的自我，个人空间设置满足了这一需求。
*   **获取切实有效的帮助：** 添加专业心理知识科普与心理咨询联系方式模块，满足在用户需要时获得专业有效的帮助的需求。

为用户提供一个**安全、温暖、治愈**的线上空间，用于**情绪记录、自我表达和心灵慰藉**。



#### **1.2. A (Approach 做法)**

我们将通过以下核心功能组合来满足用户需求：

*   **功能一：情绪烘焙屋（帖子系统）**
    *   **发表帖子：** 支持图文、短文字，作为公开的分享。
    *   **互动设计：** 评论、点赞为基础，为了突出“温暖”特质，设计独特的互动方式 **“拥抱”或“拍拍”** 代替传统点赞功能。
    *   **情绪标签：** 发帖时可选择或自定义心情标签，方便内容分类和用户发现同好。

*   **功能二：今日订单（日记系统）**
    *   **日历视图：** 以直观的日历形式展示日记记录，不同心情用不同颜色或图标显示。
    *   **隐私保护：** 默认私密，用户可自行选择是否公开某篇日记。

*   **功能三：巧克力罐（心灵鸡汤推送）**
    *   **智能推送：** 根据用户选择的心情标签、日记中的关键词，智能推送匹配的暖心句子、美文。

*   **功能四：烘焙后厨（个人空间）**
    *   **基础设置：** 头像、昵称、个性签名、生日。
    *   **情绪档案：** 以图表形式展示用户近期的情绪波动，帮助用户回顾和自我觉察。 

*   **功能五：心灵配方（专业知识）**
    *   **心理知识：** 存储专业心理知识，项用户普及专业知识。
    *   **专业援助：** 提供专业心理咨询联系方式，在用户需要时一键跳转拨打电话寻求援助。



#### **1.3. B (Benefit 好处)**

*   **对用户：**
    *   **情绪出口：** 获得一个安全、便捷的情绪记录和宣泄渠道。
    *   **心灵慰藉：** 在孤独或低落时，能从社区和推送内容中获得陪伴和力量。
    *   **自我认知：** 通过回顾日记和情绪档案，更好地了解自己的情绪模式。
    *   **同频共鸣：** 在一个充满善意的社区中互动，减少社交压力，获得正能量。
    *   **及时救助：** 在必要时刻获取专业心理咨询联系方式，及时得到救助。

*   **对产品：**
    *   **高用户粘性：** 情感类产品容易培养用户习惯，形成每日打开的动力。
    *   **清晰的产品定位：** “温暖治愈”的差异化定位，能在众多工具和社交产品中脱颖而出。
    *   **良好的口碑传播：** 用户感到被治愈后，更愿意分享给有同样需求的朋友。



#### **1.4. C (Competitors 竞争)**

*   **直接竞争者：** 小众情绪记录App、鸡汤类App。
    *   **我们的优势：** 我们不是单一功能的工具，而是 **“记录 + 社区 + 推送”** 的复合体，体验更丰富。同时，小程序形态无需下载，门槛更低。
*   **间接竞争者：** 微信朋友圈、微博、小红书。
    *   **我们的优势：** **更垂直、更私密、压力更小**。我们专注于情绪和内心成长，没有熟人社交的包袱和内容“卷”的压力。
*   **核心优势：** 独特的 **“心情烘焙”视觉和互动文化**、以及由此建立的 **温暖、友善的社区氛围**。



#### **1.5. D (Delivery 推广)**

*   **社交媒体渗透：** 在豆瓣、小红书、知乎等平台，发布关于“情绪管理”、“自我关怀”的优质内容，软性植入产品。
*   **合作联动：** 与心理学、情感类公众号或KOL合作，进行产品测评或专题推荐。
*   **校园推广：** 大学生是情绪表达需求旺盛的群体，可举办相关主题的线上活动。
*   **内容破圈：** 将用户产生的（经授权的）温暖故事和句子，制作成图文或视频，在全网分发，吸引同类用户。
*   **节日/热点营销：** 结合生日、世界精神卫生日、母亲节等节点，推出特定主题活动。

---

### 2. 产品功能

| 功能模块 | 功能名称       | 功能描述                                                     |
| :------- | :------------- | :----------------------------------------------------------- |
| 功能一   | **情绪烘焙屋** | 帖子系统                                                     |
|          | 发表帖子       | 支持发表图文或短文字帖子进行公开分享                         |
|          | 互动设计       | 支持评论功能，使用独特的“拥抱”或“拍拍”代替传统点赞           |
|          | 情绪标签       | 发帖时可选择或自定义心情标签，便于内容分类与用户发现         |
| 功能二   | **今日订单**   | 日记系统                                                     |
|          | 日历视图       | 以日历形式直观展示日记，不同心情辅以不同颜色或图标           |
|          | 隐私保护       | 日记默认私密，用户可自主选择是否公开某篇                     |
| 功能三   | **巧克力罐**   | 心灵鸡汤推送                                                 |
|          | 智能推送       | 根据用户的心情标签、日记关键词，智能匹配推送暖心句子或美文   |
| 功能四   | **烘焙后厨**   | 个人空间                                                     |
|          | 基础设置       | 管理头像、昵称、个性签名、生日等基础信息                     |
|          | 轨迹记录       | 可查看发过、收藏、评论过的帖子                               |
| 功能五   | **心灵配方**   | 专业知识                                                     |
|          | 心理知识       | 提供专业的心理知识库，向用户进行科普                         |
|          | 专业援助       | 提供专业的心理咨询联系方式，在用户授权且急需时可一键跳转寻求援助 |

## 🎨产品展示
<img width="222" height="468" alt="image-20251205105157799" src="https://github.com/user-attachments/assets/035c67a9-7ed3-4604-ad88-62531cc8607e" />
<img width="209" height="463" alt="image-20251205105203873" src="https://github.com/user-attachments/assets/7b7e125d-cf10-4c45-8ceb-210694d38006" />
<img width="224" height="477" alt="image-20251205105211840" src="https://github.com/user-attachments/assets/14ddfe26-df2c-4048-8bea-1dffdae91c1a" />
<img width="205" height="436" alt="image-20251205105220845" src="https://github.com/user-attachments/assets/6d18a717-fb70-4044-af77-4cb449ed6cfc" />
<img width="213" height="472" alt="image-20251205105233956" src="https://github.com/user-attachments/assets/550611db-7a73-422b-b915-0c6083dc457e" />

## 🏆 项目成果

🌐 **Web展示**

为了更直观地展示项目，我们部署了线上展示网站。**链接：** [点击访问心情烘焙坊Web展示站](https://c929-natsume.github.io/hust_bakery_web/)

📱**小程序体验：**

扫描下方二维码即可体验。

体验说明：

1. 由于微信平台限制，线上版本需申请体验权限。
2. 考虑到二维码时效性与域名合法性问题，若在体验过程中界面数据未正常显示，请在小程序界面右上角点击 **“...”**，选择 **“调试”**，即可查看完整数据并体验所有功能。

<p align="center">
  <img width="118" height="118" alt="wps1" src="https://github.com/user-attachments/assets/f6631399-6f7c-4863-811b-4234ba5a6f42" />
</p>

