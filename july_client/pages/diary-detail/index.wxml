<!--pages/diary-detail/index.wxml-->
<view class="diary-detail-page" wx:if="{{diary}}">
  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-bar">
    <view class="action-btn" bindtap="onEdit">
      <l-icon name="edit" size="40" color="#337559" />
      <text>ç¼–è¾‘</text>
    </view>
    <view class="action-btn" bindtap="onDelete">
      <l-icon name="delete" size="40" color="#ff4444" />
      <text>åˆ é™¤</text>
    </view>
  </view>

  <!-- æ—¥æœŸå’Œæƒ…ç»ª -->
  <view class="header-section">
    <text class="date-text">{{dateDisplay}}</text>
    <view class="emotion-tag" style="background-color: {{diary.emotion_label.color}}15; border-color: {{diary.emotion_label.color}};">
      <text class="emotion-icon">{{diary.emotion_label.icon}}</text>
      <text class="emotion-name" style="color: {{diary.emotion_label.color}};">{{diary.emotion_label.name}}</text>
    </view>
  </view>

  <!-- æ—¥è®°å†…å®¹ -->
  <view class="content-section">
    <text class="content-text">{{diary.content}}</text>
  </view>

  <!-- å…ƒä¿¡æ¯ -->
  <view class="meta-section">
    <view class="meta-item">
      <text class="meta-label">åˆ›å»ºæ—¶é—´</text>
      <text class="meta-value">{{diary.create_time}}</text>
    </view>
    <view class="meta-item">
      <text class="meta-label">éšç§è®¾ç½®</text>
      <text class="meta-value">{{diary.is_public ? 'ğŸŒ å…¬å¼€å¯è§' : 'ğŸ”’ ä»…è‡ªå·±å¯è§'}}</text>
    </view>
  </view>
</view>

<!-- åŠ è½½çŠ¶æ€ -->
<view wx:if="{{loading}}" class="loading">
  <l-icon name="loading" size="60" color="#337559" />
</view>
